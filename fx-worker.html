<!--
  Declares a web worker to execute async work.
-->
<script>
(function() {
"use strict";

class FxWorker extends HTMLScriptElement {
  static get extends() { return "script" }

  createdCallback() {
    this.worker_ = null;
  }

  startWorker() {
    if (!this.worker_) {
      var url = URL.createObjectURL(new Blob([this.textContent]));
      this.worker_ = new Worker(url);
      URL.revokeObjectURL(url);
    }
    return this.worker_;
  }
}

document.registerElement("fx-worker", FxWorker);

})();
</script>
